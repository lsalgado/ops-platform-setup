Data Loaded by the platform
===================================

This directory should eventually contain void descriptions of each data source used by the platform, which can then be automatically obtained by the platform. In the mean-time, we hope to keep this file up-to-date. Sections are data source.

##ConceptWiki

Obtained from <https://trac.nbic.nl/openphacts/browser/linksets/conceptwiki/>  on 07 Aug 2012 17:00 EST

Graph URI: <http://www.conceptwiki.org>

- cw-cs_linkset.ttl 

- cw_url_preflabels_20120620_validTurtle.ttl

BUG: http://staging.conceptwiki.org/wiki prefix is used

TEMP FIX:

    cat cw_url_preflabels_20120620.ttl | sed 's,http://staging.conceptwiki.org/wiki,http://www.conceptwiki.org,' > cw_url_preflabels_20120620_fix.ttl

BUG: Invalid characters '\n' , '"' , '\T' Appear inside literals.

TEMP FIX:

    echo '@prefix skos: <http://www.w3.org/2004/02/skos/core#> .' > tmp
    cat cw_url_preflabels_20120620_fix.ttl >> tmp
    cat tmp | sed 's, "\([[:print:]]*\)"\([[:print:]]*\)", "\1<twoquotes>\2",g' | sed "s,<twoquotes>,'',g" > quotes.1
    cat quotes.1 |  sed 's, "\([[:print:]]*\)"\([[:print:]]*\)", "\1<twoquotes>\2",g' | sed "s,<twoquotes>,'',g" > quotes.2
    cat quotes.2  | sed -e :a -e '/@en .$/!N; s/\n//; ta' > newlines
    cat newlines   | sed 's,mariner\\T,mariner-T,' | sed 's,MARINER\\T,MARINER-T,' > cw_url_preflabels_20120620_validTurtle.ttl

## Swissprot on 24 May 2013 12.00EST

Obtained from <http://www.uniprot.org> on 24 May 2013 by running:

    curl -d 'query=reviewed%3ayes&force=yes&format=rdf' http://www.uniprot.org/uniprot/ > swissprot_24052013.rdf.xml
    curl -d 'query=reviewed%3ayes&force=yes&format=rdf' http://www.uniprot.org/uniparc/ > uniparc_24052013.rdf.xml
    curl -d 'query=reviewed%3ayes&force=yes&format=rdf' http://www.uniprot.org/uniref/ > uniref_24052013.rdf.xml

Graph URI: <http://purl.uniprot.org>

- swissprot_24052013.rdf.xml (203715860 triples)
- uniparc_24052013.rdf.xml (157836030 triples)
- uniref_24052013.rdf.xml (171842257 triples)
- TOTAL: 533394147 triples

##Enzyme

Obtained by downloading from <ftp://ftp.uniprot.org/pub/databases/uniprot/current_release/rdf/enzyme.rdf.gz> on 07 Aug 2012 17:00 EST

- inference.ttl 

	Graph URI: <http://purl.uniprot.org/enzyme/inference>

	Generated by loading into OWLIM-Lite and querying for the inferred class hierarchy. 

- direct.ttl 

	Graph URI: <http://purl.uniprot.org/enzyme/direct>

	Generated by :

	    cat enzyme.ttl | grep \<http\:\/\/www.w3.org\/2000\/01\/rdf-schema\#subClassOf\> > direct.ttl

- enzyme_names_comments.ttl

	Graph URI: <http://purl.uniprot.org/enzyme>

	Generated by :

	    cat enzyme.ttl | grep -v \<http\:\/\/www.w3.org\/2000\/01\/rdf-schema\#subClassOf\> > enzyme_names_comments.ttl

##Drugbank

Obtained by downloading from <http://www4.wiwiss.fu-berlin.de/drugbank/drugbank_dump.nt> on 08 Aug 2012 10:23 EST

Graph URI: <http://linkedlifedata.com/resource/drugbank>

- drugbank_dump.nt 

        Fixed invalid URL :

            sed -i 's,<www,<http://www,' drugbank_dump.nt

- drug_type_labels.ttl

	Generated manually, 8 elements (The suffix of all drug type URLs)

- drug_category_labels.ttl 

	Generated manually 553 elements (The suffix of all drug category URLs)

##Chembl 16

Obtained by downloading all the files from <ftp://ftp.ebi.ac.uk/pub/databases/chembl/ChEMBL-RDF/16.0/> on 25 June 2013 

Graph URI <http://www.ebi.ac.uk/chembl>
- chembl_16_activity.ttl
- chembl_16_assay.ttl
- chembl_16_biocmpt.ttl
- chembl_16_document.ttl
- chembl_16_journal.ttl
- chembl_16_molecule.ttl
- chembl_16_protclass.ttl
- chembl_16_source.ttl
- chembl_16_targetcmpt.ttl
- chembl_16_targetcmpt_uniprot_ls.ttl
- chembl_16_target.ttl
- chembl_16_unichem.ttl

Replaced Chebi prefixes in chembl_16_molecule.ttl from <http://purl.org/obo/owl/CHEBI#*> to <http://purl.obolibrary.org/obo/CHEBI_*> . 

Replaced Enzyme prefixes in chembl_16_targetcmpt.ttl from <http://identifiers.org/ec-code/*> to <http://purl.uniprot.org/enzyme/*> .

Created file for activity types and units:

     CONSTRUCT {
       ?type_uri rdfs:subClassOf ?act_type ;
         rdfs:label ?standard_type ;
         <http://rdf.ebi.ac.uk/terms/chembl#hasQUDT>  ?qudt_uri .
       ?qudt_uri rdfs:label ?standard_unit .
      }
      WHERE {
      GRAPH <http://www.ebi.ac.uk/chembl>  {
       ?act <http://rdf.ebi.ac.uk/terms/chembl#standardType> ?standard_type  ;
         <http://rdf.ebi.ac.uk/terms/chembl#standardUnits> ?standard_unit ;
         <http://rdf.ebi.ac.uk/terms/chembl#hasQUDT> ?qudt_uri ;
         a ?act_type .
       BIND( IRI (CONCAT("http://www.openphacts.org/terms/chembl#", ENCODE_FOR_URI(?standard_type))) AS ?type_uri)
      } } 


## Chebi

Obtained from <ftp://ftp.ebi.ac.uk/pub/databases/chebi/ontology/chebi.owl> on 19 June 2013 (Chebi Release 104)

- chebi_direct.nt

	Graph URI: <http://www.ebi.ac.uk/chebi/direct>

	Generated by: 

	    rapper -i rdfxml -o ntriples chebi.owl | grep subClassOf | grep -v genid > chebi_direct.nt

- chebi_class_labels.nt

	Graph URI: <http://www.ebi.ac.uk/chebi>

	Generated by:

	    rapper -i rdfxml -o ntriples chebi.owl | grep '#label' > chebi_class_labels.nt

- chebi_inference.ttl

	Graph URI: <http://www.ebi.ac.uk/chebi/inference>

	Generated by loading chebi_direct.nt in Virtuoso and using:

	    curl --data-urlencode 'query=construct {?subclass <http://www.w3.org/2000/01/rdf-schema#subClassOf> ?superclass} where {graph <http://www.ebi.ac.uk/chebi/direct> {?subclass <http://www.w3.org/2000/01/rdf-schema#subClassOf>+ ?superclass } graph <http://www.ebi.ac.uk/chebi>{ ?subclass rdfs:label ?label}}' http://localhost:8890/sparql/ > chebi_inference.ttl

## ACD Labs and Chemspider data

Obtained from the OPS dropbox on 08 Aug 2012 09:03 EST also would be good to get the version url

Graph URI: <http://www.chemspider.com>

- ChEMBL20120731.zip
	
	- PROPERTIES_ChEMBL20120731.ttl

		BUG: rdf:label used instead of rdfs:label

		BUG: Erroneous prefix qud:standardUncertainty

		TEMP FIX: Add: @prefix qud: <http://qudt.org/1.1/schema/qudt#>

		BUG: obo:IAO:0000136 used instead of obo:IAO_0000136

		TEMP FIX:

		    cat /media/SSD/current_data/PROPERTIES_ChEMBL20120731.ttl | sed 's,IAO:0000136,IAO_0000136,g' > PROPERTIES_ChEMBL20120731_fix.ttl	

	- SYNONYMS_ChEMBL20120731.ttl

	- LINKSET_EXACTMATCH_DrugBank20120731.ttl

	- PROPERTIES_DrugBank20120731.tll

		BUG: rdf:label used instead of rdfs:label

		BUG: Erroneous prefix qud:standardUncertainty

		TEMP FIX: Add: @prefix qud: <http://qudt.org/1.1/schema/qudt#>

		BUG: obo:IAO:0000136 used instead of obo:IAO_0000136

		TEMP FIX:
		
		    mv PROPERTIES_DrugBank20120731.ttl PROPERTIES_DrugBank20120731_orig.tll
		    echo '@prefix qud: <http://qudt.org/1.1/schema/qudt#> .' > PROPERTIES_DrugBank20120731.ttl
		    echo '@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .' >> PROPERTIES_DrugBank20120731.ttl
		    cat PROPERTIES_DrugBank20120731_orig.tll | sed -e 's,obo:IAO:0000136,obo:IAO_0000136,g' -e 's,rdf:label,rdfs:label,g' >> PROPERTIES_DrugBank20120731.ttl

	- PROPERTIES_MeSH20120731.tll

		BUG: rdf:label used instead of rdfs:label

		BUG: Erroneous prefix qud:standardUncertainty

		TEMP FIX: Add: @prefix qud: <http://qudt.org/1.1/schema/qudt#>

		BUG: obo:IAO:0000136 used instead of obo:IAO_0000136

		TEMP FIX:
		
		    mv PROPERTIES_MeSH20120731.ttl PROPERTIES_MeSH20120731_orig.tll
		    echo '@prefix qud: <http://qudt.org/1.1/schema/qudt#> .' > PROPERTIES_MeSH20120731.ttl
		    echo '@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .' >> PROPERTIES_MeSH20120731.ttl
		    cat PROPERTIES_MeSH20120731_orig.tll | sed -e 's,obo:IAO:0000136,obo:IAO_0000136,g' -e 's,rdf:label,rdfs:label,g' >> PROPERTIES_MeSH20120731.ttl

	- PROPERTIES_ChEBI20120731.tll

		BUG: rdf:label used instead of rdfs:label

		BUG: Erroneous prefix qud:standardUncertainty

		TEMP FIX: Add: @prefix qud: <http://qudt.org/1.1/schema/qudt#>

		BUG: obo:IAO:0000136 used instead of obo:IAO_0000136

		TEMP FIX:
		
		    mv PROPERTIES_ChEBI20120731.ttl PROPERTIES_ChEBI20120731_orig.tll
		    echo '@prefix qud: <http://qudt.org/1.1/schema/qudt#> .' > PROPERTIES_ChEBI20120731.ttl
		    echo '@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .' >> PROPERTIES_ChEBI20120731.ttl
		    cat PROPERTIES_ChEBI20120731_orig.tll | sed -e 's,obo:IAO:0000136,obo:IAO_0000136,g' -e 's,rdf:label,rdfs:label,g' >> PROPERTIES_ChEBI20120731.ttl

	- PROPERTIES_PDB20120731.tll

		BUG: rdf:label used instead of rdfs:label

		BUG: Erroneous prefix qud:standardUncertainty

		TEMP FIX: Add: @prefix qud: <http://qudt.org/1.1/schema/qudt#>

		BUG: obo:IAO:0000136 used instead of obo:IAO_0000136

		TEMP FIX:
		
		    mv PROPERTIES_PDB20120731.ttl PROPERTIES_PDB20120731_orig.tll
		    echo '@prefix qud: <http://qudt.org/1.1/schema/qudt#> .' > PROPERTIES_PDB20120731.ttl
		    echo '@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .' >> PROPERTIES_PDB20120731.ttl
		    cat PROPERTIES_PDB20120731_orig.tll | sed -e 's,obo:IAO:0000136,obo:IAO_0000136,g' -e 's,rdf:label,rdfs:label,g' >> PROPERTIES_PDB20120731.ttl

	- SYNONYMS_MeSH20120731.ttl

	- SYNONYMS_ChEBI20120731.ttl

	- SYNONYMS_PDB20120731.ttl
